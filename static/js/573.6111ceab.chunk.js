/*! For license information please see 573.6111ceab.chunk.js.LICENSE.txt */
(self.webpackChunkcontainer=self.webpackChunkcontainer||[]).push([[573,848,474],{771:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MainRoles=void 0,function(e){e.ADMIN="ADMIN",e.OWNER="OWNER"}(r||(t.MainRoles=r={}))},3817:(e,t,r)=>{(()=>{"use strict";var t={641:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useAppSelector=t.useAppDispatch=void 0;const n=r(6022);t.useAppDispatch=()=>(0,n.useDispatch)(),t.useAppSelector=n.useSelector},9790:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function o(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeUsersFromDepartment=t.addUsersToDepartment=t.deleteDepartment=t.editDepartment=t.createDepartment=t.fetchDepartments=void 0;const a=r(5184),i=r(4809),c=r(8065);t.fetchDepartments=(0,a.createAsyncThunk)("departments/fetchDepartments",((e,t)=>n(void 0,void 0,void 0,(function*(){try{const e=(yield i.uspacySdk.tokensService.getUserRoles().catch((()=>{})))||[],t=i.uspacySdk.usersService.hasRole(e,[c.MainRoles.ADMIN,c.MainRoles.OWNER])?"all":void 0;return(yield i.uspacySdk.departmentsService.getDepartments(void 0,"all",t)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDepartment=(0,a.createAsyncThunk)("departments/createDepartment",(({name:e,headId:t,description:r,usersIds:a,parentDepartmentId:c,generalDepartmentId:o},u)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.departmentsService.createDepartment({name:e,headId:t,description:r,usersIds:a,parentDepartmentId:c||o.toString()})).data}catch(e){return u.rejectWithValue("Failure")}})))),t.editDepartment=(0,a.createAsyncThunk)("departments/editDepartment",(({id:e,name:t,headId:r,description:a,usersIds:c,parentDepartmentId:o},u)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.departmentsService.updateDepartment(e,{name:t,headId:r,description:a,parentDepartmentId:o,usersIds:c})).data}catch(e){return u.rejectWithValue("Failure")}})))),t.deleteDepartment=(0,a.createAsyncThunk)("departments/deleteDepartment",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return i.uspacySdk.departmentsService.deleteDepartment(e)}catch(e){return t.rejectWithValue("Failure")}finally{return e}})))),t.addUsersToDepartment=(0,a.createAsyncThunk)("departments/addUsersToDepartment",(({departmentId:e,usersIds:t},r)=>n(void 0,void 0,void 0,(function*(){try{return i.uspacySdk.departmentsService.addUsersToDepartment(String(e),t)}catch(e){return r.rejectWithValue("Failure")}})))),t.removeUsersFromDepartment=(0,a.createAsyncThunk)("departments/removeUsersFromDepartment",(({departmentId:e,usersIds:t},r)=>n(void 0,void 0,void 0,(function*(){try{return i.uspacySdk.departmentsService.deleteUsersFromDepartment(String(e),t)}catch(e){return r.rejectWithValue("Failure")}}))))},995:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function o(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeTemplate=t.updateTemplate=t.createTemplate=t.fetchBasicTemplates=t.fetchTemplates=t.removeRequisite=t.updateRequisite=t.fetchRequisites=t.fetchProfile=void 0;const a=r(5184),i=r(4809);t.fetchProfile=(0,a.createAsyncThunk)("profile/fetchProfile",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.profileService.getProfile()).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchRequisites=(0,a.createAsyncThunk)("crm/fetchRequisites",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.profileService.getRequisites()).data}catch(e){return t.rejectWithValue(e)}})))),t.updateRequisite=(0,a.createAsyncThunk)("crm/updateRequisite",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.profileService.updateRequisite(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.removeRequisite=(0,a.createAsyncThunk)("crm/removeRequisite",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return yield i.uspacySdk.profileService.removeRequisite(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchTemplates=(0,a.createAsyncThunk)("crm/fetchTemplates",((e,t)=>n(void 0,void 0,void 0,(function*(){const{page:r,list:n}=e;try{return(yield i.uspacySdk.profileService.getTemplates(r,n)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchBasicTemplates=(0,a.createAsyncThunk)("crm/fetchBasicTemplates",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.profileService.getBasicTemplates()).data}catch(e){return t.rejectWithValue(e)}})))),t.createTemplate=(0,a.createAsyncThunk)("crm/createTemplate",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.profileService.createTemplate(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.updateTemplate=(0,a.createAsyncThunk)("crm/updateTemplate",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield i.uspacySdk.profileService.updateTemplate(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.removeTemplate=(0,a.createAsyncThunk)("crm/removeTemplate",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return yield i.uspacySdk.profileService.removeTemplate(e),e}catch(e){return t.rejectWithValue(e)}}))))},8508:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function o(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,o)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAvatar=t.deleteInvitation=t.repeatInvitation=t.sendUserInvites=t.activateUser=t.deactivateUser=t.updateUserRoles=t.updateUserPosition=t.updateUser=t.fetchUsers=void 0;const i=r(5184),c=r(4809),o=r(8065);t.fetchUsers=(0,i.createAsyncThunk)("users/fetchUsers",((e,t)=>n(void 0,void 0,void 0,(function*(){try{const e=(yield c.uspacySdk.tokensService.getUserRoles().catch((()=>{})))||[],t=c.uspacySdk.usersService.hasRole(e,[o.MainRoles.ADMIN,o.MainRoles.OWNER])?"all":void 0;return(yield c.uspacySdk.usersService.getUsers(void 0,"all",t)).data}catch(e){return t.rejectWithValue("Failure load users")}})))),t.updateUser=(0,i.createAsyncThunk)("users/updateUser",((e,t)=>n(void 0,void 0,void 0,(function*(){try{const{id:t}=e,r=a(e,["id"]),n=yield c.uspacySdk.usersService.updateUser(t,r);return e.active||e.registered||(n.data.dateOfInvitation=e.dateOfInvitation),n.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUserPosition=(0,i.createAsyncThunk)("users/updateUserPosition",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield c.uspacySdk.usersService.updatePosition(e.id,e.position)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUserRoles=(0,i.createAsyncThunk)("users/updateUserRoles",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield c.uspacySdk.usersService.updateRoles(e.id,e.roles)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deactivateUser=(0,i.createAsyncThunk)("users/deactivateUser",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield c.uspacySdk.usersService.deactivateUser(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.activateUser=(0,i.createAsyncThunk)("users/activateUser",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return(yield c.uspacySdk.usersService.activateUser(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.sendUserInvites=(0,i.createAsyncThunk)("users/sendUserInvites",(({invites:e,type:r},a)=>n(void 0,void 0,void 0,(function*(){try{return"single"===r?c.uspacySdk.invatesService.createInvates(e.reduce(((e,t)=>t.email.length>0?[...e,{email:t.email,firstName:t.firstName,lastName:t.lastName}]:e),[])):c.uspacySdk.invatesService.createInvatesBatch(e.reduce(((e,t)=>t.email.length>0?[...e,t.email]:e),[]))}catch(e){return a.rejectWithValue("Failure")}finally{return a.dispatch((0,t.fetchUsers)())}})))),t.repeatInvitation=(0,i.createAsyncThunk)("users/repeatInvitation",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return yield c.uspacySdk.invatesService.resendInvateByUserId(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteInvitation=(0,i.createAsyncThunk)("users/deleteInvitation",((e,t)=>n(void 0,void 0,void 0,(function*(){try{return c.uspacySdk.invatesService.deleteInvateByUserId(e)}catch(e){return t.rejectWithValue("Failure")}finally{return e}})))),t.uploadAvatar=(0,i.createAsyncThunk)("users/uploadAvatar",(({file:e,userId:t,adminRole:r,profileId:a},{rejectWithValue:i})=>n(void 0,void 0,void 0,(function*(){try{return(yield c.uspacySdk.usersService.uploadAvatar({file:e,userId:r&&t!==a?t:a})).data}catch(e){return i("Failure")}}))))},5184:e=>{e.exports=r(9613)},4809:e=>{e.exports=r(5295)},8065:e=>{e.exports=r(771)},6689:e=>{e.exports=r(1527)},6022:e=>{e.exports=r(3512)}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,a),i.exports}var i={};(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0});const t=a(6689),r=a(641),n=a(9790),c=a(995),o=a(8508);e.default=()=>{const e=(0,r.useAppDispatch)();return(0,t.useEffect)((()=>{e((0,c.fetchProfile)()),e((0,o.fetchUsers)()),e((0,n.fetchDepartments)())}),[]),null}})(),e.exports=i})()},7573:(e,t,r)=>{"use strict";r.r(t);var n,a,i=r(4848),c=r(7988),o=r(3817),u=r.n(o),s=r(5338),d=r(5295);a=function(){var e;return function(e,t){var r,n,a,i,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(c=0)),c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(t){switch(t.label){case 0:return[4,(r="MISSING_ENV_VAR".PORTAL_AUTH_EMAIL,n="MISSING_ENV_VAR".PORTAL_AUTH_PASSWORD,new Promise((function(e,t){return a=void 0,i=void 0,o=function(){var a;return function(e,t){var r,n,a,i,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(c=0)),c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(i){switch(i.label){case 0:return[2,e()];case 1:return i.trys.push([1,3,,4]),[4,d.uspacySdk.authService.login({email:r,password:n})];case 2:return i.sent(),e(),[3,4];case 3:return a=i.sent(),t(a),[3,4];case 4:return[2]}}))},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{u(o.next(e))}catch(e){t(e)}}function n(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var a;t.done?e(t.value):(a=t.value,a instanceof c?a:new c((function(e){e(a)}))).then(r,n)}u((o=o.apply(a,i||[])).next())}));var a,i,c,o})))];case 1:return t.sent(),e=document.getElementById("root"),(0,s.H)(e).render((0,i.jsx)(c.StoreProvider,{children:(0,i.jsx)(u(),{})})),[2]}var r,n}))},new((n=void 0)||(n=Promise))((function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function i(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(r,i)}c((a=a.apply(void 0,[])).next())}))},5338:(e,t,r)=>{"use strict";var n=r(5929);t.H=n.createRoot,n.hydrateRoot},1020:(e,t,r)=>{"use strict";var n=r(1527),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,r){var n,i={},s=null,d=null;for(n in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(d=t.ref),t)c.call(t,n)&&!u.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:s,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=s,t.jsxs=s},4848:(e,t,r)=>{"use strict";e.exports=r(1020)}}]);
//# sourceMappingURL=573.6111ceab.chunk.js.map